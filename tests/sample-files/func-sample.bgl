
func mergeSort(arr) =>
    merge(
        mergeSort(arr |> slice(0, floor(arr.length / 2))),
        mergeSort(arr |> slice(floor(arr.length / 2), nil))
    )

func merge(arr1, arr2) =>
    if (arr1.length == 0) {
        arr2
    } else {
        if (arr2.length == 0) {
            arr1
        } else {
            if (arr1[0] <= arr2[0]) {
                concat([ arr1[0] ], merge(arr1 |> slice(1, nil), arr2))
            } else {
                concat([ arr2[0] ], merge(arr1, arr2 |> slice(1, nil)))
            }
        }
    }