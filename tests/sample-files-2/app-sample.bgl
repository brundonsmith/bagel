
class Counter {
    count: number = 0

    public func memo render() =>
        <div>
            <button onClick={this.decrement}>{'-'}</button>
            <span>{this.count}</span>
            <button onClick={this.increment}>{'+'}</button>
        </div>

    proc decrement() {
        this.count = this.count - 1;
    }

    proc increment() {
        this.count = this.count + 1;
    }
}

proc main() {
    let counter = new Counter();
    let n = Math.random();
    
    autorun () {
        ___render(<div>
            <button onClick={() { n = Math.random(); }}>{'Rnd'}</button> {n}<br></br>
            {counter.render()}
        </div>, document.body);
    }
    forever;
}